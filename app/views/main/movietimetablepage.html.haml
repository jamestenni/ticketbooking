= render "navbar"

.darkBackground
  .darkBackgroundContainer#mainBg
    .movieWrapper
      #backButtonWrapper
        .backButton{onclick: "location.href='#{main_page_path}'"}
          %svg{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-arrow-left",viewBox:"0 0 16 16"}
            %path{"fill-rule":"evenodd", d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"}
      #contentWrapper{style: "color: white; overflow: scroll"}
        #movieInfoWrapper
          #moviePosterWrapper 
            = image_tag (@movie.poster), style: "width: 100%; height: 360px"
          #movieDataWrapper.ms-5
            %h5.movieDateIn= @movie.get_date_in
            %h4.movieName= @movie.name
            .d-flex{style: "color: #333333"}
              .movieType.smallIcon
                %p= @movie.movie_type
              .movieDuration.ms-3.smallIcon
                %p= "#{@movie.duration} min"
            %h6.mt-5{style: "font-weight: bolder"} Abstract
            %p= @movie.description
        #timetableWrapper.mt-5
          = render "timetable", timetable: @timetable

    -# %h3.mb-4.ms-4#test Hello World

:css
  .movieWrapper {
    display: flex;
    margin-top: 80px;
  }

  .movieWrapper #backButtonWrapper {
    min-width: 45px;
  }

  .movieWrapper #backButtonWrapper .backButton {
    width: 100%;
    height: 40px;
    background-color: orange;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 100%;
  }

  .movieWrapper #backButtonWrapper .backButton:hover {
    cursor: pointer;
    background-color: #ff5f00;
  }

  .movieWrapper #contentWrapper {
    flex: 22;
    -# border: 1px green solid;
    padding-left: 1.2rem;
    padding-right: 1.2rem;
  }

  -# .movieWrapper #contentWrapper #movieInfoWrapper {
  -#   border: 1px yellow solid;
  -# }

  -# .movieWrapper #contentWrapper #timetableWrapper {
  -#   border: 1px pink solid;
  -# }

  #movieInfoWrapper {
    display: flex;
  }

  #movieInfoWrapper #moviePosterWrapper {
    min-width: 280px;
    min-height: 360px;
    max-width: 280px;
  }

  -# #movieInfoWrapper #movieDataWrapper {
  -#   border: 1px solid lime;
  -# }

  #moviePosterWrapper img {
    border-radius: var(--movie-card-border-radius);
    overflow: hidden;
  }

:javascript
  $(document).ready(function() {
    let window_h = $(window).height();
    let backgorund_h = $("#mainBg").height();

    if (backgorund_h < window_h) {
      $(".darkBackground").addClass("full-lock-screen")
    }
  });